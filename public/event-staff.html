<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>기획부 - 이벤트 관리</title>
  <link rel="stylesheet" href="/css/styles.css" />
</head>
<body>
  <div class="container">
    <h1>이벤트 관리(기획부)</h1>

    <!-- Event submission form -->
    <h2>새로운 이벤트 작성</h2>
    <div id="event-form">
      <label>주제</label>
      <input type="text" id="event-title" placeholder="이벤트 제목" required><br>
      <label>장소(주소)</label>
      <input type="text" id="event-place" required placeholder="장소"><br>
      <label>참가 인원</label>
      <input type="number" id="event-participants" placeholder="숫자만 표기" required><br>
      <label>날짜</label>
      <input type="date" id="event-date" required><br>
      <label>시작 시간</label>
      <input type="time" id="event-start-time" required><br>
      <label>종료 시간</label>
      <input type="time" id="event-end-time" required><br>
      <label>참가비</label>
      <input type="text" id="event-participation-fee" required placeholder="숫자만 표기"><br>
      <label>내용</label>
      <textarea id="event-contents" required cols="70" rows="10" placeholder="이벤트 내용"></textarea>
      <button onclick="submitEvent()">이벤트 등록</button>
    </div>
    
    <!-- Event report section -->
    <h2>이벤트 결과 보고</h2>
    <select id="report-event" required>
      <option value="">이벤트 선택...</option>
    </select>
    <button onclick="viewEventStatus()">이벤트 신청자 확인</button>
    <br><br>

     <fieldset class="form-item participant-section">
      <legend>참가자 선택</legend>
      <div id="participant-list" class="participant-grid">
        <!-- 참가자 동적 생성 -->
      
      </div>

    </fieldset>
    

    <br>
    <button onclick="submitReport()">참가자 제출</button>
    
    <button onclick="window.location.href='office.html'">운영진 페이지</button>
  </div>

  <script src="/js/events.js"></script>
  <script>
    // Redirect to event-status-staff.html with selected event ID
    function viewEventStatus() {
      const selectedEventId = document.getElementById('report-event').value;
      if (!selectedEventId) {
        alert('이벤트를 선택하세요.');
        return;
      }
      window.location.href = `event-status-staff.html?id=${selectedEventId}`;
    }

    // Load report options when DOM is ready
    document.addEventListener('DOMContentLoaded', loadReportFormOptions);
  </script>
</body>
</html>
